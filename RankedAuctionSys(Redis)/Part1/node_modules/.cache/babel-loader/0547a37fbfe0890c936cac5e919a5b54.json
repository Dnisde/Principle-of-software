{"ast":null,"code":"var _jsxFileName = \"/Users/dnisde/Desktop/Boston University/EC500/hw1/Problem1/EC500/hw1/P1/src/components/InputBox.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Input, message, InputNumber } from 'antd';\nimport axios from 'axios';\nimport MD5 from \"./md5_lib\";\nimport { REDIS_URL } from \"../constants\";\nimport { SALT } from '../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction InputBox() {\n  _s();\n\n  /** \n   * Initialize View and Submit Button as disabled: \n   * When verify_status is: FALSE, \n   * and disable the Submit and View of the Action Rank;\n   */\n  const [verify_status, setVerifyStatus] = useState(false);\n  var sum_status;\n\n  var func = function () {\n    sum_status = false;\n    console.log(\"Verify status initialized as:\", verify_status);\n    console.log(\"Sum status initialized as:\", sum_status);\n\n    func = function () {};\n  };\n\n  func(); // Update sum of scores everytime number is changed, \n  // and Get sum of scores depends on the Input.\n\n  const UpdateSum = () => {\n    var sum = 0;\n\n    for (var i = 0; i < 5; i++) {\n      var score = document.getElementById(\"git\" + i).value;\n\n      if (score === '') {\n        score = 0;\n      }\n\n      sum += parseInt(score);\n    } // Set submit-button availability: \n\n\n    if (sum > 100 || sum < 0) {\n      message.error(\"Total score must be smaller than 100!\");\n      document.getElementById(\"sum\").value = \"Check Score\";\n      sum_status = false;\n    } else {\n      // For User friendly, without Raised an error when Sum != 100.\n      if (sum === 100) {\n        sum_status = true;\n      } else {\n        sum_status = false;\n      }\n\n      console.log(sum);\n      document.getElementById(\"sum\").value = sum;\n    }\n  }; // Verify that if the user has the authentication to view and edit the Auction Rank;\n\n\n  const Verify = async () => {\n    const password = document.getElementById(\"password\").value;\n    var new_md5 = new MD5(SALT + password);\n    const hash_verify = new_md5.md5; //interaction with redis backend\n\n    const opt = {\n      method: 'GET',\n      url: REDIS_URL + '?salt=' + SALT + '&hash=' + hash_verify + '&message=' + 'GET server:name',\n      headers: {\n        'content-type': 'application/json'\n      }\n    };\n    await axios(opt).then(response => {\n      console.log('Request sent to Redis: ', opt);\n      console.log(response.data);\n\n      if (response.status === 200) {\n        if (!response.data || response.data.length === 0) {\n          message.error('Password Incorrect');\n          setVerifyStatus(false);\n        } else {\n          message.success('Verify succeed!');\n          localStorage.setItem(\"hash_pass\", hash_verify);\n          setVerifyStatus(true);\n        }\n      }\n    }).catch(error => {\n      console.log(error.message);\n    });\n  };\n\n  const Logout = () => {\n    setVerifyStatus(false);\n    message.info(\"Logged Out!\");\n  };\n\n  const Submit = () => {\n    console.log(\"Sum status:\", sum_status);\n\n    if (sum_status === true) {\n      var name = document.getElementById(\"wiki-name\");\n      const hash = localStorage.getItem(\"hash_pass\");\n\n      if (name.value === '') {\n        message.error(\"Name must not be empty!\");\n      } else {\n        //generate message with scores and wiki-name\n        var command = 'HMSET user:' + name.value;\n\n        for (var i = 0; i < 5; i++) {\n          var score = document.getElementById(\"git\" + i).value;\n\n          if (score === '') {\n            score = 0;\n          }\n\n          console.log(score);\n          command += ' git' + i + ' ' + score;\n        }\n\n        console.log(command); //interaction with redis backend\n\n        const opt = {\n          method: 'GET',\n          url: REDIS_URL + '?salt=' + SALT + '&hash=' + hash + '&message=' + command,\n          headers: {\n            'content-type': 'application/json'\n          }\n        };\n        axios(opt).then(response => {\n          console.log('Request sent to Redis: ', opt);\n          console.log(response.data);\n\n          if (response.status === 200) {\n            if (!response.data || response.data.length === 0) {\n              message.error('Submit Fail!');\n            } else {\n              message.success('Submit Succeed!');\n            }\n          }\n        }).catch(error => {\n          console.log(error.message);\n          message.error('Submit Fail!');\n        });\n      }\n    } else {\n      message.error(\"Total Score must be 100!\");\n    }\n  }; // View data function\n  // Use async..await structure to enable passing the value out from axios.\n\n\n  const ViewData = async () => {\n    var name = document.getElementById(\"wiki-name\");\n    const hash = localStorage.getItem(\"hash_pass\");\n\n    if (name.value === '') {\n      message.error(\"Name must not be empty!\");\n    } else {\n      // Add 1 to flag everytime data is returned successfully\n      let flag = 0;\n      let sum = 0;\n\n      for (var i = 0; i < 5; i++) {\n        var command = 'HGET user:' + name.value + ' git' + i;\n        const opt = {\n          method: 'GET',\n          url: REDIS_URL + '?salt=' + SALT + '&hash=' + hash + '&message=' + command,\n          headers: {\n            'content-type': 'application/json'\n          }\n        };\n        let score;\n        await axios(opt).then(response => {\n          console.log('Request sent to Redis: ', opt);\n          score = response.data.toLocaleString().slice(43);\n\n          if (response.status === 200) {\n            if (response.data && response.data.length !== 0) {\n              flag++;\n            }\n          }\n        }).catch(error => {\n          console.log(error.message);\n          message.error('View Request Fail');\n        });\n        console.log(score);\n        document.getElementById(\"git\" + i).value = score;\n        sum += parseInt(score);\n      }\n\n      if (flag === 5) {\n        message.success(\"View Request Succeed\");\n        document.getElementById(\"sum\").value = sum;\n      } else {\n        message.error(\"View Request Fail\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Input.Password, {\n        placeholder: \"Your Password\",\n        name: \"password\",\n        id: \"password\",\n        label: \"Password\",\n        className: \"pass-word\",\n        rules: [{\n          required: true,\n          message: 'Please input your password'\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this), verify_status ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: Verify,\n      id: \"verity-btn\",\n      className: \"verify-btn\",\n      children: \"Verify\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }, this), verify_status ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: Logout,\n      id: \"logout-btn\",\n      className: \"logout-btn\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }, this) : null, verify_status ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"authorized-message\",\n      children: \"Authorized!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"unauthorized-message\",\n      children: \"Unauthorized!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"rank-title\",\n        children: \"Auction Rank:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter Wikiname\",\n        id: \"wiki-name\",\n        className: \"wiki-name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(InputNumber, {\n        defaultValue: 0,\n        readOnly: true,\n        addonBefore: \"Sum\",\n        id: \"sum\",\n        className: \"sum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(InputNumber, {\n        min: 0,\n        max: 99,\n        defaultValue: 0,\n        controls: false,\n        addonBefore: \"Git0\",\n        id: \"git0\",\n        onChange: UpdateSum,\n        className: \"rank-table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(InputNumber, {\n        min: 0,\n        max: 99,\n        defaultValue: 0,\n        controls: false,\n        addonBefore: \"Git1\",\n        id: \"git1\",\n        onChange: UpdateSum,\n        className: \"rank-table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(InputNumber, {\n        min: 0,\n        max: 99,\n        defaultValue: 0,\n        controls: false,\n        addonBefore: \"Git2\",\n        id: \"git2\",\n        onChange: UpdateSum,\n        className: \"rank-table\",\n        label: \"123\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(InputNumber, {\n        min: 0,\n        max: 99,\n        defaultValue: 0,\n        controls: false,\n        addonBefore: \"Git3\",\n        id: \"git3\",\n        onChange: UpdateSum,\n        className: \"rank-table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(InputNumber, {\n        min: 0,\n        max: 99,\n        defaultValue: 0,\n        controls: false,\n        addonBefore: \"Git4\",\n        id: \"git4\",\n        onChange: UpdateSum,\n        className: \"rank-table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Submit,\n        disabled: verify_status ? false : true,\n        id: \"submit-btn\",\n        className: \"submit-btn\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: ViewData,\n        disabled: verify_status ? false : true,\n        id: \"view-btn\",\n        className: \"view-btn\",\n        children: \"View\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n}\n\n_s(InputBox, \"PLNXUTU8clvfZ7ANDeTJZYLVW/I=\");\n\n_c = InputBox;\nexport default InputBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"InputBox\");","map":{"version":3,"names":["React","useState","Input","message","InputNumber","axios","MD5","REDIS_URL","SALT","InputBox","verify_status","setVerifyStatus","sum_status","func","console","log","UpdateSum","sum","i","score","document","getElementById","value","parseInt","error","Verify","password","new_md5","hash_verify","md5","opt","method","url","headers","then","response","data","status","length","success","localStorage","setItem","catch","Logout","info","Submit","name","hash","getItem","command","ViewData","flag","toLocaleString","slice","required"],"sources":["/Users/dnisde/Desktop/Boston University/EC500/hw1/Problem1/EC500/hw1/P1/src/components/InputBox.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Input, message, InputNumber } from 'antd';\nimport axios from 'axios';\nimport MD5 from \"./md5_lib\"\nimport { REDIS_URL } from \"../constants\";\nimport { SALT } from '../constants';\n\nfunction InputBox() {\n\n    /** \n     * Initialize View and Submit Button as disabled: \n     * When verify_status is: FALSE, \n     * and disable the Submit and View of the Action Rank;\n     */ \n    const [verify_status, setVerifyStatus] = useState(false);\n    var sum_status;\n    var func = function() {\n\n        sum_status = false;\n        console.log(\"Verify status initialized as:\", verify_status);\n        console.log(\"Sum status initialized as:\", sum_status);\n        func = function(){};\n    }\n    func();\n\n    // Update sum of scores everytime number is changed, \n    // and Get sum of scores depends on the Input.\n    const UpdateSum = () => {\n        var sum = 0;\n        for (var i = 0; i < 5; i++) {\n            var score = document.getElementById(\"git\" + i).value;\n            if (score === '') {\n                score = 0;\n            }\n            sum += parseInt(score);\n        }\n\n        // Set submit-button availability: \n        if (sum > 100 || sum < 0){\n            message.error(\"Total score must be smaller than 100!\");\n            document.getElementById(\"sum\").value = \"Check Score\";\n            sum_status = false;\n        } \n        else {\n            // For User friendly, without Raised an error when Sum != 100.\n            if (sum === 100){\n                sum_status = true;\n            } \n            else {\n                sum_status = false;\n            }\n            console.log(sum);\n            document.getElementById(\"sum\").value = sum;\n            \n        }\n    }\n    \n    // Verify that if the user has the authentication to view and edit the Auction Rank;\n    const Verify = async() => {\n\n        const password = document.getElementById(\"password\").value;\n        var new_md5 = new MD5(SALT + password);\n        const hash_verify = new_md5.md5;\n    \n        //interaction with redis backend\n        const opt = {\n            method: 'GET',\n            url: REDIS_URL + '?salt=' + SALT + '&hash=' + hash_verify + '&message=' + 'GET server:name',\n            headers: { 'content-type': 'application/json'}\n        };\n    \n        await axios(opt)\n            .then( response => {\n                console.log('Request sent to Redis: ', opt)\n                console.log(response.data)\n                if(response.status === 200) {\n                    \n                    if (!response.data || response.data.length === 0) {\n                        message.error('Password Incorrect');\n                        setVerifyStatus(false);\n                    }\n                    else {\n                        message.success('Verify succeed!');\n                        localStorage.setItem(\"hash_pass\", hash_verify);\n                        setVerifyStatus(true);\n                    }\n                }\n            })\n            .catch( error => {\n                console.log(error.message);\n            })\n\n    };\n\n    const Logout = () => {\n        setVerifyStatus(false);\n        message.info(\"Logged Out!\");\n    }\n\n    const Submit = () => {\n        \n        console.log(\"Sum status:\", sum_status);\n\n        if (sum_status === true) {\n\n            var name = document.getElementById(\"wiki-name\");\n            const hash = localStorage.getItem(\"hash_pass\");\n\n            if (name.value === '') {\n                message.error(\"Name must not be empty!\");\n            } \n            else {\n                //generate message with scores and wiki-name\n                var command = 'HMSET user:' + name.value;\n\n                for (var i = 0; i < 5; i++) {\n                    var score = document.getElementById(\"git\" + i).value;\n                    if (score === '') {\n                        score = 0;\n                    }\n                    console.log(score);\n                    command += ' git' + i + ' ' + score;\n                }\n                console.log(command)\n\n                //interaction with redis backend\n                const opt = {\n                    method: 'GET',\n                    url: REDIS_URL + '?salt=' + SALT + '&hash=' + hash + '&message=' + command,\n                    headers: { 'content-type': 'application/json'}\n                };\n                \n                axios(opt)\n                    .then( response => {\n                        console.log('Request sent to Redis: ', opt)\n                        console.log(response.data)\n                        if(response.status === 200) {\n                            if (!response.data || response.data.length === 0) {\n                                message.error('Submit Fail!');\n                            }\n                            else {\n                                message.success('Submit Succeed!');\n                            }\n\n                        }\n                    })\n                    .catch( error => {\n                        console.log(error.message);\n                        message.error('Submit Fail!');\n                    })\n            }\n        } else {\n            message.error(\"Total Score must be 100!\");\n        }\n    };\n\n    // View data function\n    // Use async..await structure to enable passing the value out from axios.\n    const ViewData = async() => {\n\n        var name = document.getElementById(\"wiki-name\");\n\n        const hash = localStorage.getItem(\"hash_pass\");\n\n        if (name.value === '') {\n            message.error(\"Name must not be empty!\");\n        } else {\n            // Add 1 to flag everytime data is returned successfully\n            let flag = 0;\n            let sum = 0;\n\n            for (var i = 0; i < 5; i++) {\n                var command = 'HGET user:' + name.value + ' git' + i;\n                const opt = {\n                    method: 'GET',\n                    url: REDIS_URL + '?salt=' + SALT + '&hash=' + hash + '&message=' + command,\n                    headers: { 'content-type': 'application/json'}\n                };\n                let score;\n                await axios(opt)\n                    .then( response => {\n                        console.log('Request sent to Redis: ', opt)\n                        score = response.data.toLocaleString().slice(43)\n                        if(response.status === 200) {\n                            if (response.data && response.data.length !== 0) {\n                                flag++;\n                            }\n                        }\n                    })\n                    .catch( error => {\n                        console.log(error.message);\n                        message.error('View Request Fail');\n                    })\n                console.log(score)\n                document.getElementById(\"git\" + i).value = score;\n                sum += parseInt(score);\n            }\n            if (flag === 5) {\n                message.success(\"View Request Succeed\")\n                document.getElementById(\"sum\").value = sum;\n            }\n            else {\n                message.error(\"View Request Fail\")\n            }\n        }\n    }\n    \n    return (\n        <div>             \n            <div>\n              <Input.Password\n                placeholder=\"Your Password\" \n                name=\"password\"\n                id=\"password\"\n                label=\"Password\"\n                className=\"pass-word\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'Please input your password',\n                    },\n                ]}/>\n            </div>\n\n            {\n                verify_status ?\n                    null\n                    :\n                    <button\n                        onClick={Verify}\n                        id=\"verity-btn\"\n                        className=\"verify-btn\">\n                        Verify\n                    </button>\n            }\n\n            {\n                verify_status ?\n                    <button\n                        onClick={Logout}\n                        id=\"logout-btn\"\n                        className=\"logout-btn\">\n                        Logout\n                    </button>\n                    :\n                    null\n            }\n\n            {\n                verify_status ?\n                    <h1 className=\"authorized-message\">\n                        Authorized!\n                    </h1>\n                    :\n                    <h1 className=\"unauthorized-message\">\n                        Unauthorized!\n                    </h1>\n            }\n\n            <div>\n                <h1 className=\"rank-title\">\n                    Auction Rank:\n                </h1>\n            </div>\n\n            <div>\n                <input\n                    type=\"text\"\n                    placeholder=\"Enter Wikiname\"\n                    id=\"wiki-name\"\n                    className=\"wiki-name\"\n                />\n            </div>\n\n            <div>\n                <InputNumber\n                    defaultValue={0}\n                    readOnly={true}\n                    addonBefore=\"Sum\"\n                    id=\"sum\"\n                    className=\"sum\"\n                />\n            </div>\n\n            <div>\n                <InputNumber\n                    min={0}\n                    max={99}\n                    defaultValue={0}\n                    controls={false}\n                    addonBefore=\"Git0\"\n                    id=\"git0\"\n                    onChange={UpdateSum}\n                    className=\"rank-table\"\n                />\n            </div>\n\n            <div>\n                <InputNumber\n                    min={0}\n                    max={99}\n                    defaultValue={0}\n                    controls={false}\n                    addonBefore=\"Git1\"\n                    id=\"git1\"\n                    onChange={UpdateSum}\n                    className=\"rank-table\"\n                />\n            </div>\n\n            <div>\n                <InputNumber\n                    min={0}\n                    max={99}\n                    defaultValue={0}\n                    controls={false}\n                    addonBefore=\"Git2\"\n                    id=\"git2\"\n                    onChange={UpdateSum}\n                    className=\"rank-table\"\n                    label=\"123\"\n                />\n            </div>\n\n            <div>\n                <InputNumber\n                    min={0}\n                    max={99}\n                    defaultValue={0}\n                    controls={false}\n                    addonBefore=\"Git3\"\n                    id=\"git3\"\n                    onChange={UpdateSum}\n                    className=\"rank-table\"\n                />\n            </div>\n\n            <div>\n                <InputNumber\n                    min={0}\n                    max={99}\n                    defaultValue={0}\n                    controls={false}\n                    addonBefore=\"Git4\"\n                    id=\"git4\"\n                    onChange={UpdateSum}\n                    className=\"rank-table\"\n                />\n            </div>\n\n            <div>\n                <button\n                    onClick={Submit}\n                    disabled={verify_status ? false : true}\n                    id=\"submit-btn\"\n                    className=\"submit-btn\">\n                    Submit\n                </button>\n            </div>\n\n            <div>\n                <button\n                    onClick={ViewData}\n                    disabled={verify_status ? false : true}\n                    id=\"view-btn\"\n                    className=\"view-btn\">\n                    View\n                </button>\n            </div>\n            \n        </div>\n    );\n}\n\nexport default InputBox;"],"mappings":"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"},"metadata":{},"sourceType":"module"}